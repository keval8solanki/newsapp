(this.webpackJsonpnewsapp=this.webpackJsonpnewsapp||[]).push([[0],{28:function(e,a){},488:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t.n(n),l=t(65),s=t.n(l),o=(t(74),t(7)),i=t(66),r=t.n(i),m=function(e){var a=Object(n.useState)({file:null}),t=Object(o.a)(a,2),l=t[0],s=t[1],i=Object(n.useState)(null),m=Object(o.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)({color:"green"}),f=Object(o.a)(p,2),E=f[0],v=f[1],b=Object(n.useState)("Upload"),h=Object(o.a)(b,2),g=h[0],N=h[1],y=Object(n.useState)(""),w=Object(o.a)(y,2),O=(w[0],w[1],Object(n.useState)(!1)),j=Object(o.a)(O,2),k=j[0],S=j[1];console.log(l.file),null===l.file?console.log("true"):console.log("false");return c.a.createElement("form",{className:"form-style",onSubmit:function(e){e.preventDefault(),N("Loading...");var a=new FormData;a.append("video",l.file[0]),S(!0),r()({method:"post",url:"https://newsapp-video-upload-api.herokuapp.com/upload",data:a}).then((function(e){S(!1),console.log(e),d("Video Upload Success"),N("Upload"),v({color:"green"}),document.getElementById("input-video").value=null})).catch((function(e){S(!1),d("Video Upload Failure"),N("Upload"),v({color:"red"}),document.getElementById("input-video").value=null}))}},c.a.createElement("input",{id:"input-video",label:"upload file",type:"file",onChange:function(e){s({file:e.target.files}),d(null)},accept:"video/*"}),c.a.createElement("button",{disabled:!l.file||k,className:"submit-btn",type:"submit"},g),c.a.createElement("p",{style:E,className:"message"},u))},u=t(29),d=t.n(u),p=t(67),f=t(21),E=t.n(f),v=t(11),b=function(e){var a="/newsapp/".concat(e.itemKey);return"normal"===e.mode?c.a.createElement("a",{href:a,className:"link"},c.a.createElement("li",{className:"newsItems-main-li"},c.a.createElement("div",{className:"item-div-1"},c.a.createElement("p",{className:"defaultP source"},"Source"),c.a.createElement("p",{className:"defaultP content"},"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quas laboriosam alias, neque soluta"),c.a.createElement("p",{className:"defaultP date"},"June 10, 2020")),c.a.createElement("div",{className:"item-div-2"},c.a.createElement("img",{className:"thumbnail",src:e.img,alt:""})))):c.a.createElement(v.b,{className:"link",to:a},c.a.createElement("li",{className:"newsItems-main-li"},c.a.createElement("div",{className:"item-div-1"},c.a.createElement("p",{className:"defaultP source"},"Source"),c.a.createElement("p",{className:"defaultP content"},"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quas laboriosam alias, neque soluta"),c.a.createElement("p",{className:"defaultP date"},"June 10, 2020")),c.a.createElement("div",{className:"item-div-2"},c.a.createElement("img",{className:"thumbnail",src:e.img,alt:""})))),c.a.createElement(v.b,{className:"link",to:a},c.a.createElement("li",{className:"newsItems-main-li"},c.a.createElement("div",{className:"item-div-1"},c.a.createElement("p",{className:"defaultP source"},"Source"),c.a.createElement("p",{className:"defaultP content"},"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quas laboriosam alias, neque soluta"),c.a.createElement("p",{className:"defaultP date"},"June 10, 2020")),c.a.createElement("div",{className:"item-div-2"},c.a.createElement("img",{className:"thumbnail",src:e.img,alt:""}))))},h=function(e){var a=Object(n.useState)([]),t=Object(o.a)(a,2),l=t[0],s=t[1];Object(n.useEffect)((function(){try{E.a.config.setPromisesDependency(),E.a.config.update({accessKeyId:"AKIAJZZ3QXXO4CZKEFYA",secretAccessKey:"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",region:"us-east-1"});var a=new E.a.S3;function t(){return(t=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.listObjectsV2({Bucket:"video-bucket-processed"}).promise();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().then((function(a){e.dontRenderThis;var t=a.Contents.filter((function(a){if(a.Key.includes("/thumbs")&&!a.Key.includes(e.dontRenderThis))return a.Key})).map((function(e){return"".concat("https://video-bucket-processed.s3.amazonaws.com/").concat(e.Key)}));s(t)})).catch((function(e){return console.log(e)}))}catch(n){console.log("Your error is ".concat(n))}}),[]);var i=l.map((function(a){var t=a.split("/")[3];return c.a.createElement(b,{key:t,itemKey:t,img:a,mode:e.mode})}));return c.a.createElement("div",{className:"timeline-main-div"},c.a.createElement("ul",{className:"list-container"},i))},g=function(e){var a=Object(n.useState)(""),t=Object(o.a)(a,2),l=t[0],s=t[1],i=e.match.params.id,r="https://video-bucket-processed.s3.amazonaws.com/"+i+"/web.mp4";return Object(n.useEffect)((function(){console.log("Rendering......"),s(r)}),[i]),console.log("URL",l),c.a.createElement("div",{className:"DisplayVideos-main-div"},c.a.createElement("h4",{className:"display-heading"},"Top Coverage"),c.a.createElement("video",{src:l,className:"video",controls:!0}),c.a.createElement("p",{className:"defaultP time"},"1 hour ago"),c.a.createElement("h4",{className:"display-heading"},"More News"),c.a.createElement(h,{dontRenderThis:i,mode:"normal"}))},N=function(e){return c.a.createElement("header",{className:"timeline-header"},c.a.createElement("div",{className:"header-div"},c.a.createElement(v.b,{activeStyle:{opacity:"1"},className:"link header-link",to:"/newsapp",exact:!0},"Timeline"),c.a.createElement(v.b,{activeStyle:{opacity:"1"},className:"link header-link",to:"/newsapp/upload"},"Upload")))},y=t(4),w=function(){var e=Object(n.useState)("timeline"),a=Object(o.a)(e,2),t=a[0],l=a[1];return console.log(t),c.a.createElement(v.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(N,{setpage:l}),c.a.createElement(y.c,null,c.a.createElement(y.a,{path:"/newsapp/upload",component:m}),c.a.createElement(y.a,{path:"/newsapp/:id",component:g}),c.a.createElement(y.a,{path:"/newsapp",component:h}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,a,t){e.exports=t(488)},74:function(e,a,t){}},[[69,1,2]]]);
//# sourceMappingURL=main.06886769.chunk.js.map